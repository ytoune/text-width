import { describe, it, expect } from 'vitest'
import { getTextWidth } from './get-text-width'

describe('getTextWidth', () => {
  const list: [string, number, string?][] = [
    ['ãŸã¨ãˆã°ã€ ðŸ‘ðŸ» ã¯ 2 æ–‡å­—ã§ ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ã¯ 7 æ–‡å­—ã¨', 40],
    ['ãšã¹ã‚™ã§ã®ã‚™æ–‡ã‚™å­—ã‚™ã«ã‚™æ¿ã‚™ã‚™ç‚¹ã‚™ã‚’ã‚™ã¥ã’ã‚ˆã‚™ã‚”', 28],
    ['ã™ã¹ã¦ã®æ–‡å­—ã«æ¿ç‚¹ã‚’ã¤ã‘ã‚ˆã†', 28],
    ['abcdef'.repeat(6), 36],
    ['ï¾Žï½¹ï¾žï¾Žï½¹ï¾žï¾Žï½¹ï¾žãƒ›ã‚²ãƒ›ã‚²', 17],
    ['Ã€ÃÃ‚ÃƒÃ„Ã…', 6],
    ['Ã€ÃÃ‚ÃƒÃ„Ã…á°‚á°ƒá°„á°…á°†á°‡á°ˆá°‰á°Šá°‹á°Œá°á°Ž', 19],
    ['ï¾‹ã‚™ï¾Ÿã‚™ï¾–ã‚™ï¾‹ã‚™ï¾Ÿã‚™ï¾–ã‚™ï¾‹ã‚™ï¾Ÿã‚™ï¾–ã‚™', 9],
    ['', 0, 'empty text'],
    [
      'ãšã¹ã‚™ã§ã®ã‚™æ–‡ã‚™å­—ã‚™ã«ã‚™æ¿ã‚™ã‚™ç‚¹ã‚™ã‚’ã‚™ã¥ã’ã‚ˆã‚™ã‚”'.repeat(10),
      280,
      'long1',
    ],
    ['ã™ã¹ã¦ã®æ–‡å­—ã«æ¿ç‚¹ã‚’ã¤ã‘ã‚ˆã†'.repeat(10), 280, 'long2'],
  ]

  for (const [text, width, title] of list) {
    it(title || text, () => {
      expect(getTextWidth(text)).toBe(width)
    })
  }
})
